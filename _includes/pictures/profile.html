{% assign image_path = include.image %}
{% if include.presentation %}
  {% assign crop_params = "&crop=" | append: include.presentation %}
{% else %}
  {% assign crop_params = "&crop=entropy" %}
{% endif %}

<picture>
  <source media="(min-width: 1200px)" 
          srcset="{{ image_path }}?w=2400&h=1600&fit=crop&auto=format,compress{{ crop_params }} 2x,
                  {{ image_path }}?w=1200&h=800&fit=crop&auto=format,compress{{ crop_params }} 1x">
  <source media="(min-width: 768px)" 
          srcset="{{ image_path }}?w=1024&h=683&fit=crop&auto=format,compress{{ crop_params }}">
  <source media="(max-width: 767px)" 
          srcset="{{ image_path }}?w=640&h=427&fit=crop&auto=format,compress{{ crop_params }}">
  <img src="{{ image_path }}?w=800&h=533&fit=crop&auto=format,compress{{ crop_params }}" 
       alt="{{ include.alt }}"
       loading="lazy"
       style="width: 100%; height: auto;">
</picture> 